
{% extends 'shop/foodstore/product/base.html' %}
{% load static %}
{% block title %}
    Your Shopping Cart| Checkout
{% endblock %}
       
{% block content %}
<br><br><br><br><br><br>
<style>
.card0 {
    margin: 50px 12px 40px 12px;
    border: 0
}

.card1 {
    margin: 0;
    padding: 0;
    object-fit: contain;
    height: 100%;
    background-color: rgb(255, 255, 255);
    position: relative;
    border-top-left-radius: 10px !important;
    border-bottom-left-radius: 10px !important
}

#sub-heading1 {
    font-size: 55px
}

#sub-heading2 {
    font-size: 20px;
    color: grey
}

.gift-input {
    background: none
}

#heading {
    font-size: 33px;
    color: #000000;
    padding-bottom: 20px
}

.placeicon {
    font-family: fontawesome !important
}

.card2 {
    padding: 25px;
    padding-left: 35px;
    padding-right: 35px;
    margin: 0;
    height: 100%;
    border-top-right-radius: 10px !important;
    border-bottom-right-radius: 10px !important
}

.text-dark {
    color: grey !important
}

.form-card {
    height: 100%;
    position: relative
}

.form-card input,
.form-card textarea {
    padding: 5px 1px 10px 1px;
    border: none;
    border-bottom: 1px solid lightgrey;
    border-radius: 0px;
    margin-bottom: 35px;
    margin-top: 2px;
    width: 100%;
    box-sizing: border-box;
    font-family: montserrat;
    color: #2C3E50;
    font-size: 20px;
    font-weight: bold;
    letter-spacing: 1px
}

.form-card input:focus,
.form-card textarea:focus {
    -moz-box-shadow: none !important;
    -webkit-box-shadow: none !important;
    box-shadow: none !important;
    border: none;
    font-weight: bold;
    border-bottom: 1.5px solid skyblue;
    padding-bottom: 9.5px;
    outline-width: 0
}

.form-card .btn-success {
    color: #ffffff !important;
    margin-bottom: 25px !important;
    font-weight: 300;
    width: 100%;
    border-radius: 4px;
    letter-spacing: 2px;
    font-family: Trebuchet MS !important
}

.bottom {
    bottom: 0;
    position: absolute;
    width: 100%
}

@media (max-width: 768px) {
    .bottom {
        position: relative
    }

    .card1 {
        padding-right: 15px;
        border-top-left-radius: 10px !important;
        border-top-right-radius: 10px !important;
        border-bottom-left-radius: 0px !important;
        border-bottom-right-radius: 0px !important
    }

    .card2 {
        border-bottom-left-radius: 10px !important;
        border-bottom-right-radius: 10px !important;
        border-top-left-radius: 0px !important;
        border-top-right-radius: 0px !important
    }
}

.fit-image {
    width: 100%;
    object-fit: cover
}

.radio-group {
    position: relative;
    margin-bottom: 25px
}

.radio {
    display: inline-block;
    width: 204;
    height: 64;
    border-radius: 0;
    background: #B2EBF2;
    box-sizing: border-box;
    border-top: 3px solid #E8F5E9;
    cursor: pointer;
    margin: 8px 0px 8px 0px;
    transition: 0.3s
}

.radio:hover {
    border-top: 3px #B2EBF2 solid;
    transition: 0.3s
}

.radio.selected {
    border-top: 3px solid #0091EA;
    transition: 0.3s
}
</style>
<main class="main-content">
    <!--Nav Start-->

<div class="section-padding- position-relative">
  <div class="container">
    <div class="row  ">
        <div class="col-md-12 ml-auto ">
                <h4 class="card-title text-center"> <i class="material-icons"> payment</i><small> Secure Foodsto Accepted payment methods</small> </h4>   
                <ul class="nav flexi-nav justify-content-center" data-tabs="tabs" id="flexiselDemo1">
                       <li class="nav-item">
                            <div class='radio' data-value="credit"><img src="../../static/img/m.png " width="200px" height="60px"></div>
                       </li>
                       <li class="nav-item">
                            <div class='radio' data-value="paypal"><img src="../../static/img/p.png" width="200px" height="60px"></div> <br>
                       </li>
                </ul>
          </div>

  
    </div>

      <div class="row">
        
        <div class="col-lg-6">
            <h2 class="mb-5">Your order</h2>
            <div class="card"> 
                <div class="card-body">
            <table class="table table-borderless ">
                <!-- <thead>
                    <tr>
                        <th><span class="h5">Product</span></th>
                        <th><span class="h5">Subtotal</span></th>
                    </tr>
                </thead> -->
                <tbody>
                    {% for item in cart %}
                    {% with product=item.product  %}
                       <li class="nav-item">
                                     <div class="text-center " >
                               <div class="card-header card-header-image ">      <img class="img" src="{% if product.image %} {{ product.image.cdn_url }} {% else %} {% static 'img/default.jpg' %} {% endif %}" alt="..." style="height: 50px; width: auto"><button class="btn btn btn-white ">  {{ product.name }} <strong>( {{ item.quantity }} )</strong> </button> 
                           <button class="btn btn btn-white "> <small>    <b>Unit price :</b>  </small>   KSH  {{ item.price }} </button>
                               </div>
                           </div>

                       </li>

                       {% endwith %}
                       {% endfor %}
                       {% with totail_items=cart|length %}
                       {% if cart|length > 0 %}
                    <!-- <tr class="cart_item">
                        <td class="ps-3">{{ product.name }}<strong class="product-quantity"><i class="fas fa-times mx-1"></i>1</strong></td>
                        <td class="product-total">
                        <span class= "rowpad"><span class=""> </span> KSH  {{ item.price }}</span></td>
                    </tr> -->
                </tbody>
                <tfoot>
                    <tr class="cart-subtotal">
                        <th><span class="h5">Your Order </span></th>
                        <td><span class="rowpad"><span class=""></span>{{ totail_items }} item {{ totail_items|pluralize }}</span></td>
                    </tr>
                    <!-- <tr class="cart-subtotal">
                        <th><span class="h5">Subtotal</span></th>
                        <td><span class="rowpad"><span class="">$</span>8.00</span></td>
                    </tr> -->
                    <tr class="order-total">
                        <th><span class="h5">Total</span></th>
                        <td><strong><span class="h5 rowpad">KSH {{ cart.get_total_price }}</span></strong> </td>
                    </tr>
                </tfoot>
            </table>
            
            {% endif %}
            {% endwith %}
          </div>
        </div>
            <div class="card">
                <div class="card-header block2 pb-3">
                    <p>Your personal data will be used to process your order, support your experience throughout this website.</p>
                </div>
                <div class="card-body">
                   
                      
                
                 
                    <div class="iq-btn-container">
                        
                        <button class="btn btn-lg btn-white  "> <a  href="/cart"> MANAGE YOUR CART  <i class="material-icons">
                            edit
                            </i> </a></button>
                    
                    </div>
                </div>
            </div>
        </div>
        
      <div class="col-lg-6 mt-5">
    
          <div class="scrolling-text text-center pt-5 position-relative">
             <div data-iq-gsap="onStart"
             data-iq-opacity="1"
             data-iq-position-x="200"
             data-iq-trigger="scroll"
             data-iq-scroll-scrub="true"
             data-iq-ease="power.inOut">
              AND
             </div>
             
          </div>
          <div class="iq-title-box">
              <span class="iq-subtitle">Delivery</span>
              <h2 class="iq-title">Billing Info</h2>
              <div class="iq-title-divider"></div>
          </div>
          <form style="margin:10%;margin-top:0;font-size:15px;"action="." method="post">
            {% csrf_token %}
            {{ form.as_p }}<br>
            <div class="social-btn" >
                    {% if cart|length > 0 %}
            <input type="submit" class="btn btn-primary btn-lg" value="Proceed to payment">             
        </div>
        </form>
        {% else %}
          
        <h4>  <button class="btn btn-white btn-lg "> <a  href="{% url 'shop:product_list' %}" > Shop now </a></button>    </h4>            


         {% endif %}
    
      </div>
  </div>
  </div>
  <br>
  <div class="row text-center pb-5" data-iq-gsap="onStart"
  data-iq-position-x="150"
  data-iq-rotate="0"
  data-iq-trigger="scroll"
  data-iq-ease="power.inOut">
    <div class="col-md-4">
        <span class="fav"><i class="fas fa-map-marker-alt "></i></span>
        <h4 class="bw">Location</h4>
        <p>1234 North Avenue Luke Lane,
            <br>South Bend, IN 360001
        </p>
    </div>
    <div class="col-md-4">
        <span class="fav"><i class="fas fa-envelope"></i></span>
        <h4>Email</h4>
        <p>
            support@themes.com
            <br>support@iqonic.com
        </p>
    </div>
    <div class="col-md-4">
        <span class="fav"><i class="fas fa-phone-alt"></i></span>
        <h4>Phone</h4>
        <p>
            +91 123 456 7890
            <br>+91 123 456 7890
        </p>
    </div>
</div>
</div>
{% include 'shop/foodstore/footer.html' %}

    
    <div id="back-to-top" style="">
        <a class="top" id="top" href="#top"> 
            <svg width="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 15.5L12 8.5L19 15.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </a>
    </div>    </main>



{% endblock %}